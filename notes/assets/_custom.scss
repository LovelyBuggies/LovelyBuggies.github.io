// Site-specific CSS overrides
// Footnote-style hints: smaller font and light gray colors
.markdown blockquote.book-hint,
// Increase specificity to override .book-hint.info/.note/etc from theme
.markdown blockquote.book-hint[class] {
  // Base body is 1rem (~16px). 2pt â‰ˆ 2.666px, so ~0.833rem
  font-size: 0.833rem;

  // Keep neutral light gray styling (override theme colored variants)
  border-color: var(--gray-200);
  background-color: var(--gray-100);
}

// Reduce default image display size in posts
// Applies to standalone images inside paragraphs and figures
.markdown p > img,
.markdown figure > img {
  display: block;
  margin: 0.5rem auto;
  // Cap width and scale down a bit from full content width
  max-width: 720px;
  width: 70%;
  height: auto;
}

// Sidebar tweaks: bold non-clickable section titles; color post links
// Match homepage name color (#224b8d) for clickable post titles
.book-menu .book-menu-content nav li > label,
.book-menu .book-menu-content nav li > span {
  font-weight: 700;
}
.book-menu .book-menu-content nav li > span {
  color: #000; /* ensure non-clickable section titles are black */
}

.book-menu .book-menu-content nav a {
  color: #224b8d;
}

.book-menu .book-menu-content nav a:hover {
  opacity: 0.85;
}

/* Sidebar: make article titles and subsection links 2pt smaller */
.book-menu .book-menu-content nav li > a,
.book-menu .book-menu-content nav li > label a {
  font-size: calc(1em - 2pt);
}

/* Style only the "Who is LovelyBuggies?" sidebar link */
.book-menu .book-menu-content nav a[href="https://lovelybuggies.github.io/"],
.book-menu .book-menu-content nav a[href="/notes/who_is_lovelybuggies/"] {
  color: #666;            /* slightly darker */
  font-style: italic;
  font-size: 11px;        /* match type-tag font-size */
  line-height: 18px;      /* match type-tag line-height */
  margin-top: 0;          /* align spacing with tags above */
}

// Brand: make title bold and black only for the brand
.book-menu .book-menu-content h2.book-brand a span {
  color: #000;
  font-weight: 700;
  /* Make brand 2pt smaller than default */
  font-size: calc(1em - 2pt);
}

/* Also reduce the page header title size by 2pt */
.book-header h3 {
  font-size: calc(1em - 2pt);
}

/* Scale down post content (not sidebars) to 80% uniformly */
/* Scale down post content (not sidebars) to 88.8% uniformly */
.book-page .markdown {
  font-size: 0.888rem;
}

/* Override heading sizes inside posts to maintain ~88.8% scale of theme defaults */
.book-page .markdown h1 { font-size: 1.776rem; }  /* 2.0rem  * 0.888 */
.book-page .markdown h2 { font-size: 1.332rem; }  /* 1.5rem  * 0.888 */
.book-page .markdown h3 { font-size: 1.11rem; }   /* 1.25rem * 0.888 */
.book-page .markdown h4 { font-size: 1.0rem; }    /* 1.125rem* 0.888 ~= 1.0 */
.book-page .markdown h5 { font-size: 0.888rem; }  /* 1.0rem  * 0.888 */
.book-page .markdown h6 { font-size: 0.777rem; }  /* 0.875rem* 0.888 */

/* Slightly reduce display math (block $$...$$) size to 95% */
.book-page .markdown .katex-display {
  font-size: 0.85em;
}

/* References list numbering as [1], [2], ... without affecting other lists */
.book-page .markdown ol.references {
  list-style: none;            /* remove default 1. 2. */
  counter-reset: ref-counter;  /* start counter at 0 */
  margin-left: 0;
  padding-left: 0;             /* no extra padding on the list itself */
}
.book-page .markdown ol.references > li {
  position: relative;
  margin: 0.25rem 0;
  /* indent the item content itself so multi-line wraps align */
  padding-left: 5.5ch;         /* marker width (5ch) + ~0.5ch gap */
}
.book-page .markdown ol.references > li::before {
  counter-increment: ref-counter;
  content: "[" counter(ref-counter) "]"; /* marker only; spacing comes from li padding */
  position: absolute;
  left: 0;
  width: 5ch;                  /* reserve width for up to two digits */
  color: inherit;
}

/* Sidebar type tags */
.book-menu .book-menu-content .type-tags {
  display: flex;
  flex-wrap: wrap;
  gap: 4px;
  margin: 16px 0 0 0; /* gap above tags after titles */
}
.book-menu .book-menu-content .type-tags .type-tag {
  font-size: 11px;
  line-height: 18px;
  padding: 0 6px;
  border: 1px solid var(--gray-400);
  border-radius: 4px;
  color: var(--gray-700);
  background: var(--gray-100);
}
.book-menu .book-menu-content .type-tags .type-tag:hover { opacity: 0.85; text-decoration: none; }

/* Content page type tags (list pages) */
.book-page .markdown .type-tags {
  display: flex;
  flex-wrap: wrap;
  gap: 6px;
  margin: 16px 0 0 0; /* some space above tags after list */
}
.book-page .markdown .type-tags .type-tag {
  font-size: 12px;
  line-height: 20px;
  padding: 0 8px;
  border: 1px solid var(--gray-400);
  border-radius: 4px;
  color: var(--gray-700);
  background: var(--gray-100);
}

/* Home link style on list page */
.book-page .markdown p.home-link {
  margin-top: 16px;
}
.book-page .markdown p.home-link a {
  font-size: 11px;
  line-height: 18px;
  color: #666;
  font-style: italic;
}

/* Theorem / Proposition / Fact blocks: styled like green hint */
.book-page .markdown div.theorem,
.book-page .markdown div.proposition,
.book-page .markdown div.fact {
  border: 1px solid #3bad3b;            /* success green */
  border-left-width: 4px;               /* accent left border */
  background-color: rgba(59, 173, 59, 0.10);
  border-radius: 4px;
  padding: 0.75rem 1rem;
  margin: 0.75rem 0;
}

/* Definition blocks: styled like red/danger hint */
.book-page .markdown div.definition {
  border: 1px solid #d84747;            /* danger red */
  border-left-width: 4px;               /* accent left border */
  background-color: rgba(216, 71, 71, 0.10);
  border-radius: 4px;
  padding: 0.75rem 1rem;
  margin: 0.75rem 0;
}

/* Types results list spacing (title and date) */
#types-results li small {
  margin-left: 8px;              /* space between title and date */
  font-style: italic;            /* show dates in italic */
  color: var(--gray-600);
}

/* List pages: bold section titles, normal article links */
.book-page .markdown ul li.section > a {
  font-weight: 700;
}
.book-page .markdown ul li.section > span {
  font-weight: 700; /* bolden unclickable section titles */
}
.book-page .markdown ul li.page > a {
  font-weight: 400;
}
