// Site-specific CSS overrides
/* Remove overly broad hint overrides; scope styles to sidenote only */

/* Sidenote hint: same gray style, exactly 2pt smaller than surrounding text */
.book-page .markdown blockquote.book-hint.sidenote {
  /* 2pt smaller than the current context font-size */
  font-size: calc(1em - 2pt);
  font-style: italic;
  border-color: var(--gray-200);
  background-color: var(--gray-100);
  /* compact spacing like footnotes */
  padding: 0.375rem 0.5rem;
  margin: 0.25rem 0;
}

/* Do not force styles on all default hints; handled by .sidenote */

// Reduce default image display size in posts
// Applies to standalone images inside paragraphs and figures
.markdown p > img,
.markdown figure > img {
  display: block;
  margin: 0.5rem auto;
  // Cap width and scale down a bit from full content width
  max-width: 720px;
  width: 70%;
  height: auto;
}

// Sidebar tweaks: bold non-clickable section titles; color post links
// Match homepage name color (#224b8d) for clickable post titles
.book-menu .book-menu-content nav li > label,
.book-menu .book-menu-content nav li > span {
  font-weight: 700;
}
.book-menu .book-menu-content nav li > span {
  color: #000; /* ensure non-clickable section titles are black */
}

.book-menu .book-menu-content nav a {
  color: #224b8d;
}

.book-menu .book-menu-content nav a:hover {
  opacity: 0.85;
}

/* Sidebar sizes: make top-level section titles +2pt; subsections and articles -2pt */
/* Top-level section titles (non-clickable span or collapsible label) */
.book-menu .book-menu-content nav > ul > li > label,
.book-menu .book-menu-content nav > ul > li > span {
  font-size: calc(1em + 2pt);
}
/* Ensure subsection links match article title size (no reduction) */
.book-menu .book-menu-content nav li > label a { font-size: inherit; }

/* Style only the "Who is LovelyBuggies?" sidebar link */
.book-menu .book-menu-content nav a[href="https://lovelybuggies.github.io/"],
.book-menu .book-menu-content nav a[href="/notes/who_is_lovelybuggies/"] {
  color: #666;            /* slightly darker */
  font-style: italic;
  font-size: 11px;        /* match type-tag font-size */
  line-height: 18px;      /* match type-tag line-height */
  margin-top: 0;          /* align spacing with tags above */
}

// Brand: make title bold and black only for the brand
.book-menu .book-menu-content h2.book-brand a span {
  color: #000;
  font-weight: 700;
  /* Make brand 2pt smaller than default */
  font-size: calc(1em - 2pt);
}

/* Also reduce the page header title size by 2pt */
.book-header h3 {
  font-size: calc(1em - 2pt);
}

/* Scale down post content (not sidebars) to 80% uniformly */
/* Scale down post content (not sidebars) to 88.8% uniformly */
.book-page .markdown {
  font-size: 0.888rem;
}

/* Override heading sizes inside posts to maintain ~88.8% scale of theme defaults */
.book-page .markdown h1 { font-size: 1.776rem; }  /* 2.0rem  * 0.888 */
.book-page .markdown h2 { font-size: 1.332rem; }  /* 1.5rem  * 0.888 */
.book-page .markdown h3 { font-size: 1.11rem; }   /* 1.25rem * 0.888 */
.book-page .markdown h4 { font-size: 1.0rem; }    /* 1.125rem* 0.888 ~= 1.0 */
.book-page .markdown h5 { font-size: 0.888rem; }  /* 1.0rem  * 0.888 */
.book-page .markdown h6 { font-size: 0.777rem; }  /* 0.875rem* 0.888 */

/* Slightly reduce display math (block $$...$$) size to 95% */
.book-page .markdown .katex-display {
  font-size: 0.85em;
}

/* References list numbering as [1], [2], ... without affecting other lists */
.book-page .markdown ol.references {
  list-style: none;            /* remove default 1. 2. */
  counter-reset: ref-counter;  /* start counter at 0 */
  margin-left: 0;
  padding-left: 0;             /* no extra padding on the list itself */
}
.book-page .markdown ol.references > li {
  position: static;
  margin: 0.25rem 0;
  padding-left: 0;              /* no extra gap before text */
}
.book-page .markdown ol.references > li::before {
  counter-increment: ref-counter;
  /* double the current tiny gap: four thin spaces */
  content: "[" counter(ref-counter) "]\2009\2009\2009\2009";
  position: static;             /* inline with text to eliminate large gaps */
  color: inherit;
  /* Use a distinct font for the bullet label */
  font-family: Verdana, Geneva, sans-serif;
  font-weight: 600;
  font-size: 0.85em;            /* scale bullet label to 85% */
}

/* Sidebar type tags */
.book-menu .book-menu-content .type-tags {
  display: flex;
  flex-wrap: wrap;
  gap: 4px;
  margin: 24px 0 0 0; /* larger gap above tags after titles */
}
.book-menu .book-menu-content .type-tags .type-tag {
  font-size: 11px;
  line-height: 18px;
  padding: 0 6px;
  border: 1px solid var(--gray-400);
  border-radius: 4px;
  color: var(--gray-700);
  background: var(--gray-100);
}
.book-menu .book-menu-content .type-tags .type-tag:hover { opacity: 0.85; text-decoration: none; }

/* Content page type tags (list pages) */
.book-page .markdown .type-tags {
  display: flex;
  flex-wrap: wrap;
  gap: 6px;
  margin: 16px 0 0 0; /* some space above tags after list */
}
.book-page .markdown .type-tags .type-tag {
  font-size: 12px;
  line-height: 20px;
  padding: 0 8px;
  border: 1px solid var(--gray-400);
  border-radius: 4px;
  color: var(--gray-700);
  background: var(--gray-100);
}

/* Home link style on list page */
.book-page .markdown p.home-link {
  margin-top: 16px;
}
.book-page .markdown p.home-link a {
  font-size: 11px;
  line-height: 18px;
  color: #666;
  font-style: italic;
}

/* Theorem / Proposition / Corollary / Fact blocks: styled like green hint */
.book-page .markdown div.theorem,
.book-page .markdown div.proposition,
.book-page .markdown div.corollary,
.book-page .markdown div.fact {
  border: 1px solid #3bad3b;            /* success green */
  border-left-width: 4px;               /* accent left border */
  background-color: rgba(59, 173, 59, 0.10);
  border-radius: 4px;
  padding: 0.375rem 0.5rem;              /* even tighter inner spacing */
  margin: 0.25rem 0;                     /* even tighter outer spacing */
  font-style: normal;                    /* ensure non-italic text */
}

/* Remove italic emphasis inside theorem-like boxes */
.book-page .markdown div.theorem em,
.book-page .markdown div.theorem i,
.book-page .markdown div.proposition em,
.book-page .markdown div.proposition i,
.book-page .markdown div.corollary em,
.book-page .markdown div.corollary i,
.book-page .markdown div.fact em,
.book-page .markdown div.fact i {
  font-style: normal;
}

/* Definition blocks: styled like blue/info hint */
.book-page .markdown div.definition {
  border: 1px solid #4486dd;            /* info blue */
  border-left-width: 4px;               /* accent left border */
  background-color: rgba(68, 134, 221, 0.10);
  border-radius: 4px;
  padding: 0.375rem 0.5rem;              /* even tighter inner spacing */
  margin: 0.25rem 0;                     /* even tighter outer spacing */
}

/* Override: make the specific 'Curse of Dimension' box gray */
.book-page .markdown #curse-of-dimension {
  /* Match Book theme default hint gray */
  border-color: #64748b;                 /* same as $hint-colors.default */
  background-color: rgba(100, 116, 139, 0.1);
  color: #666;                           /* keep lighter text as requested */
  font-style: italic;                    /* unify with gray hint style */
}

/* Types results list spacing (title and date) */
#types-results li small {
  margin-left: 8px;              /* space between title and date */
  font-style: italic;            /* show dates in italic */
  color: var(--gray-600);
}

/* List pages: bold section titles, normal article links */
.book-page .markdown ul li.section > a {
  font-weight: 700;
}
.book-page .markdown ul li.section > span {
  font-weight: 700; /* bolden unclickable section titles */
}
.book-page .markdown ul li.page > a {
  font-weight: 400;
}

/* Type badge colors: distinct styles for Review vs Thought */
.book-badge.type-badge { border-width: 1px; }

/* Always make the badge key (title pill) text black for all badges */
.book-badge span.book-badge-title { color: #000 !important; }

/* Review (blue) */
.book-badge.type-badge.review { border-color: #2563eb; }
.book-badge.type-badge.review span.book-badge-title {
  background-color: rgba(37, 99, 235, 0.10) !important; /* light fill */
}
.book-badge.type-badge.review span.book-badge-value {
  background-color: #2563eb !important; /* solid fill */
  color: #ffffff !important; /* white text */
}

/* Thought (purple) */
.book-badge.type-badge.thought { border-color: #7c3aed; }
.book-badge.type-badge.thought span.book-badge-title {
  background-color: rgba(124, 58, 237, 0.10) !important;
}
.book-badge.type-badge.thought span.book-badge-value {
  background-color: #7c3aed !important;
  color: #ffffff !important;
}

/* Post badges layout: uniform spacing between all badges */
.book-page .markdown .post-badges {
  display: flex;
  flex-wrap: wrap;
  gap: 6px;            /* equal spacing between badges */
  align-items: center;
  margin: 6px 0 10px;  /* subtle top/bottom breathing room */
}
.book-page .markdown .post-badges .book-badge { margin: 0; }

/* Prev/Next bar: keep icons aligned and add tiny gaps */
.book-page .markdown .flex.align-center { gap: 6px; }

/* Article prev/next container spacing */
/* (prev/next feature removed) */

/* Custom badge style: gray scheme for License (no border) */
.book-page .markdown .book-badge.black span.book-badge-title {
  background-color: #f3f4f6; /* light gray key */
  color: #111;               /* near-black text */
}
.book-page .markdown .book-badge.black span.book-badge-value {
  background-color: #9ca3af; /* medium gray value */
  color: #111;               /* dark text for readability */
}

/* Larger image for PGâ†’PPO post (shortcode with custom class) */
.book-page .markdown .book-image img.wide-grpo {
  width: 92%;
  max-width: 1000px;
  height: auto;
}
